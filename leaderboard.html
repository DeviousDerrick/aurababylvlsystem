<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Leaderboard</title>

<style>
  body {
    background: #0e0e0e;
    color: white;
    font-family: 'Poppins', sans-serif;
    text-align: center;
    padding: 20px;
  }

  h1 {
    font-size: 40px;
    margin-bottom: 10px;
  }

  /* Back button */
  #backBtn {
    position: fixed;
    top: 15px;
    left: 15px;
    padding: 12px 20px;
    background: #00ffcc;
    color: black;
    border-radius: 10px;
    font-weight: 800;
    text-decoration: none;
    box-shadow: 0 0 10px #00ffcc;
  }
  #backBtn:hover {
    background: #00e6b8;
  }

  /* Tabs */
  .tab-buttons {
    margin: 25px auto;
    display: flex;
    justify-content: center;
    gap: 20px;
  }

  .tab-btn {
    padding: 12px 20px;
    background: #00ffcc;
    color: black;
    font-weight: 800;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 0 10px #00ffcc;
  }
  .tab-btn:hover {
    background: #00e6b8;
  }

  .tab {
    display: none;
    margin-top: 20px;
  }

  table {
    width: 85%;
    margin: auto;
    background: #161616;
    border-radius: 12px;
    border-collapse: collapse;
    overflow: hidden;
    margin-top: 10px;
  }

  th, td {
    padding: 14px;
    border-bottom: 1px solid #333;
    font-size: 20px;
  }

  th {
    background: #00ffcc;
    color: black;
    font-weight: 900;
  }
</style>
</head>
<body>

<a id="backBtn" href="index.html">‚¨Ö Back</a>

<h1>Leaderboard</h1>

<div class="tab-buttons">
  <div class="tab-btn" onclick="switchTab('expTab')">üèÜ EXP</div>
  <div class="tab-btn" onclick="switchTab('timeTab')">‚è± Time</div>
</div>

<!-- EXP TAB -->
<div id="expTab" class="tab">
  <h2>Top EXP Players</h2>
  <table id="expBoard">
    <tr><th>Username</th><th>EXP</th></tr>
  </table>
</div>

<!-- TIME TAB -->
<div id="timeTab" class="tab">
  <h2>Top Time Players</h2>
  <table id="timeBoard">
    <tr><th>Username</th><th>Time Played</th></tr>
  </table>
</div>

<script>
  // Show EXP tab by default
  document.getElementById("expTab").style.display = "block";

  function switchTab(tab) {
    document.querySelectorAll(".tab").forEach(t => t.style.display = "none");
    document.getElementById(tab).style.display = "block";
  }

  // Load and display stored data
  function loadLeaderboard() {
    let expData = JSON.parse(localStorage.getItem("expLeaderboard")) || [];
    let timeData = JSON.parse(localStorage.getItem("timeLeaderboard")) || [];

    expData.sort((a, b) => b.exp - a.exp);
    timeData.sort((a, b) => b.time - a.time);

    const expTable = document.getElementById("expBoard");
    const timeTable = document.getElementById("timeBoard");

    expData.forEach(player => {
      expTable.innerHTML += `<tr><td>${player.username}</td><td>${player.exp}</td></tr>`;
    });

    timeData.forEach(player => {
      timeTable.innerHTML += `<tr><td>${player.username}</td><td>${player.time}s</td></tr>`;
    });
  }

  loadLeaderboard();
</script>

</body>
</html>
